manifest {
  name = 'autodiff-experiments'
  author = 'Mathieu Fourment'
  homePage = 'https://github.com/4ment/autodiff-experiments'
  description = 'Benchmarking of automatic and analytical differentiation'
  mainScript = 'main.nf'
}

// COMPUTATIONAL PLATFORM SETUP
profiles {
    standard {
        process {
            executor = 'slurm'
            withLabel: auto_diff_exp {
                container = 'quay.io/matsengrp/autodiff-experiments'
                queue = 'campus-new'
                cpus = 1
                memory = 8.GB
                time = '1h'
                // clusterOptions = '-A overbaugh_j'
            }
        }
        singularity {
            enabled = true
            autoMounts = true
            cacheDir = 'temp/containers/'
            runOptions = '--contain -W /tmp/'
        }
    }
}
